{% extends 'team/base.html.twig' %}

{% block body %}


    <!-- TODO HEADER + METTRE NOM DE LEQUIPE-->

    <div class="block-01 pt">
        <h2 class="title-1">Ajout d'un coéquipier</h2>
        <p class="sub-title">Tu peux inviter jusqu'à 16 personnes</p>


        <section class="Form-01">
            {{ form_start(form) }}
            <div class="form_control group">
                {{ form_widget(form.firstname) }}
                <span class="highlight"></span><span class="bar"></span>
                {{ form_label(form.firstname) }}
            </div>
            <div class="form_control group">
                {{ form_widget(form.lastname) }}
                <span class="highlight"></span><span class="bar"></span>
                {{ form_label(form.lastname) }}
            </div>
            <div class="form_control group">
                {{ form_widget(form.structure) }}
                <span class="highlight"></span><span class="bar"></span>
                {{ form_label(form.structure) }}
            </div>
            <div class="form_control group">
                {{ form_widget(form.email) }}
                <span class="highlight"></span><span class="bar"></span>
                {{ form_label(form.email) }}
            </div>
            <input type="submit" value="+">
            {{ form_end(form) }}
        </section>


        <h2 class="title-1">Ton équipe | {{ acceptedPlayers|length }}/16 </h2>
        <p class="sub-title">Il faut un minimum de 4 personnes dans ton équipe</p>



        <section class="Tab-01">
            <article class="Accordion">
                <div class="Flex-container">
                    <div class="player">
                        <strong>Joueur1</strong>
                    </div>
                    <div class="infos-player">
                        <strong>Damien Moulin</strong>
                        <span>Hétic</span>
                    </div>
                    <div class="mail-player">
                        <span>damien.moulin@hetic.net</span>
                        <strong class="status valid">Activé</strong>
                    </div>
                    <div class="Accordion-more">
                        <i class="zmdi zmdi-chevron-down"></i>
                    </div>
                </div>

                <div class="Accordion-content is-close">
                    <a href="#" class="btn-1 btn-grey">Annuler invitation</a>
                    <a href="#" class="btn-1 btn-red">Relancer</a>
                </div>
            </article>
        </section>

        <div class="center">
            <a href="#" class="btn-1 btn-green whitout-margin">Lancer le tournois</a>
        </div>

        <br><br><br><br><br><br><br>

        {% if acceptedPlayers|length >= 4 and acceptedPlayers|length %2 == 0 and user.tournament is null %}
            <a href="{{ path('contest_start', { 'user': user.id }) }}">Lancer le Tournoi</a>
        {% elseif user.tournament is not null %}
            <a href="{{ path('contest_index', { 'tournament': user.tournament.id }) }}">Tableau du Tournoi</a>
        {% endif %}
        {% if acceptedPlayers|length == 16 %}
            <p>Vous avez atteint la limite de 16 joueurs</p>
        {% endif %}
        {% if user.players is not empty %}
            <table>
                <thead>
                <tr>
                    <th>Prénom</th>
                    <th>Nom</th>
                    <th>Structure</th>
                    <th>Email</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                {% for player in user.players %}
                    <tr>
                        <td>{{ player.firstname }}</td>
                        <td> {{ player.lastname }}</td>
                        <td>{{ player.structure }}</td>
                        <td>{{ player.email }}</td>
                        <td>
                            {% if player.status  == 1%}
                                Activé
                            {% elseif player.status == 0 %}
                                Refusé
                            {% else %}
                                En attente
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
    </div>


{% endblock %}

{% block stylesheets %}

{% endblock %}
